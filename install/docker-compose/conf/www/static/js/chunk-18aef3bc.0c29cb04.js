(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18aef3bc"],{"79d4":function(t,e,r){"use strict";r.d(e,"y",(function(){return n})),r.d(e,"c",(function(){return u})),r.d(e,"A",(function(){return i})),r.d(e,"d",(function(){return s})),r.d(e,"f",(function(){return a})),r.d(e,"g",(function(){return c})),r.d(e,"v",(function(){return l})),r.d(e,"H",(function(){return d})),r.d(e,"e",(function(){return m})),r.d(e,"n",(function(){return h})),r.d(e,"q",(function(){return p})),r.d(e,"l",(function(){return f})),r.d(e,"m",(function(){return j})),r.d(e,"j",(function(){return b})),r.d(e,"b",(function(){return g})),r.d(e,"z",(function(){return y})),r.d(e,"a",(function(){return w})),r.d(e,"k",(function(){return T})),r.d(e,"I",(function(){return O})),r.d(e,"h",(function(){return v})),r.d(e,"i",(function(){return k})),r.d(e,"D",(function(){return H})),r.d(e,"F",(function(){return I})),r.d(e,"E",(function(){return x})),r.d(e,"B",(function(){return D})),r.d(e,"C",(function(){return S})),r.d(e,"G",(function(){return L})),r.d(e,"t",(function(){return _})),r.d(e,"u",(function(){return C})),r.d(e,"s",(function(){return $})),r.d(e,"w",(function(){return V})),r.d(e,"r",(function(){return E})),r.d(e,"x",(function(){return A})),r.d(e,"o",(function(){return z})),r.d(e,"p",(function(){return J}));r("99af");var o=r("b775");function n(){return Object(o["a"])({url:"/system/project/work/list",method:"get"})}function u(t){return Object(o["a"])({url:"/system/project/create",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/system/project/list",method:"get",params:t})}function s(t){return Object(o["a"])({url:"/system/project/remove?projectId="+t,method:"delete"})}function a(){return Object(o["a"])({url:"/system/user/box",method:"get"})}function c(t){return Object(o["a"])({url:"/system/dict/data/type/"+t,method:"get"})}function l(t){return Object(o["a"])({url:"/system/project/list?projectStatus="+t,method:"get"})}function d(t,e){var r={projectId:t,projectStatus:e};return Object(o["a"])({url:"/system/project/status",method:"put",params:r})}function m(t){return Object(o["a"])({type:"form",url:"/system/project/enable",method:"put",data:t})}function h(){return Object(o["a"])({url:"/system/project/user/my/project/all",method:"get"})}function p(t){return Object(o["a"])({url:"/system/project/user/my/project/all?projectStatus="+t,method:"get"})}function f(t,e){return Object(o["a"])({url:"/mh/hour/list?endDate=".concat(t,"&startDate=").concat(e),method:"get"})}function j(t){return Object(o["a"])({url:"/mh/hour/list/miss",method:"get",params:t})}function b(t){return Object(o["a"])({url:"/system/project/user/my/project?date="+t,method:"get"})}function g(t){return Object(o["a"])({url:"/mh/hour/create",method:"post",data:t})}function y(t,e){return Object(o["a"])({url:"/mh/hour/leave?leaveDate="+t+"&leaveType="+e,method:"post"})}function w(t){return Object(o["a"])({url:"/mh/hour/unLeave?id="+t,method:"post"})}function T(t){return Object(o["a"])({url:"/mh/hour/detail?hourId="+t,method:"get"})}function O(t){return Object(o["a"])({url:"/mh/hour/edit",method:"put",data:t})}function v(t){return Object(o["a"])({url:"/mh/hour/stat?date="+t,method:"get"})}function k(t){return Object(o["a"])({url:"/mh/hour/stat/detail",method:"get",params:t})}function H(t){return Object(o["a"])({url:"/system/project/hour/stat",method:"get",params:t})}function I(t){return Object(o["a"])({url:"/system/project/hour/stat",method:"get",params:t})}function x(t){return Object(o["a"])({url:"/system/project/hour/stat/fill/detail?date=".concat(t.date,"&projectId=").concat(t.projectId),method:"get"})}function D(t){return Object(o["a"])({url:"/system/project/hour/stat/hour/month?projectId="+t,method:"get"})}function S(t){return Object(o["a"])({url:"/system/project/hour/stat/hour/month/detail",method:"get",params:t})}function L(t){return Object(o["a"])({url:"/system/project/hour/stat/hour/user?projectId=".concat(t),method:"get"})}function _(t){return Object(o["a"])({url:"/system/project/hour/daily/calendar",method:"get",params:t})}function C(t){return Object(o["a"])({url:"/system/project/hour/daily/calendar/detail",method:"get",params:t})}function $(t){return Object(o["a"])({url:"/system/project/hour/daily/list",method:"get",params:t})}function V(t){return Object(o["a"])({url:"/mh/hour/stat/export",method:"get",params:t})}function E(t){return Object(o["a"])({url:"/mh/hour/calendar?date="+t,method:"get"})}function A(t){return Object(o["a"])({url:"/mh/hour/stat/project?date="+t,method:"get"})}function z(t){return Object(o["a"])({url:"/system/project/user/my/project/list",method:"get",params:t})}function J(t){return Object(o["a"])({url:"/system/project/user/my/project/list?projectStatus="+t,method:"get"})}},a14c:function(t,e,r){},c9ed:function(t,e,r){"use strict";r("a14c")},d062:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("el-dialog",{attrs:{title:"工时详情  "+t.fillDate,visible:t.centerDialogVisible,width:"46%","close-on-click-modal":!1},on:{"update:visible":function(e){t.centerDialogVisible=e},close:t.beforeClose}},[r("div",{staticClass:"infoOne"},[r("el-form",{attrs:{inline:!1,"label-width":"300px"}},[t._l(t.projectList,(function(e,o){return r("el-form-item",{key:o,attrs:{prop:"item.projectName"}},[r("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",{staticClass:"projectLabel"},[t._v(t._s(e.projectName)+" ")])]),r("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[r("el-select",{staticStyle:{"margin-right":"auto",width:"auto"},attrs:{placeholder:"请选择工作类型"},model:{value:e.workTypeId,callback:function(r){t.$set(e,"workTypeId",r)},expression:"item.workTypeId"}},t._l(t.workTypeSelect,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1),r("el-input",{staticStyle:{width:"50%"},attrs:{type:"number",max:24,maxlength:"2",placeholder:"工时",oninput:"value=value.replace(/[^0-9.]/g,'')"},on:{input:function(r){return t.lookinput(e.useHour)}},model:{value:e.useHour,callback:function(r){t.$set(e,"useHour",t._n(r))},expression:"item.useHour"}}),r("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")])],1),r("hr"),r("el-input",{staticStyle:{"margin-top":"5px",width:"100%"},attrs:{type:"textarea",rows:2,maxlength:"200","show-word-limit":"",autosize:{minRows:2,maxRows:3},placeholder:"请填写日志"},model:{value:e.daily,callback:function(r){t.$set(e,"daily",r)},expression:"item.daily"}})],1)],1)})),r("el-form-item",{attrs:{label:"总计"}},[r("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[r("el-input",{staticStyle:{width:"20%"},attrs:{max:24,autocomplete:"off",disabled:!0},model:{value:t.useHourTotal,callback:function(e){t.useHourTotal=t._n(e)},expression:"useHourTotal"}}),r("span",{staticStyle:{margin:"0 10px"}},[t._v("小时")])],1)]),r("el-form-item",{attrs:{label:"提示:"}},[r("p",{staticClass:"tips"},[t._v(t._s(t.submitTips))])])],2),r("div",{staticClass:"footer-btn item"},[r("el-button",{on:{click:t.handleCannel}},[t._v("返回")]),r("el-button",{attrs:{disabled:t.sunmitflag,type:"primary"},on:{click:t.handleDetailHour}},[t._v("修改")])],1)],1),r("div",{staticClass:"infoTwo"})])],1)},n=[],u=(r("d3b7"),r("159b"),r("14d9"),r("79d4")),i=r("6994"),s={data:function(){return{centerDialogVisible:!1,projectList:[],id:null,fillDate:null,settiingsdata:{},useHourTotal:0,hourId:0,sunmitflag:!1,submitTips:"",workTypeSelect:[]}},created:function(){this.setTings()},methods:{open:function(){var t=this;if(null==this.id)return this.$message.error("未填报，请重新选择"),void(this.centerDialogVisible=!1);this.getmyhourdetail(this.id),Object(u["y"])().then((function(e){200==e.code&&(t.workTypeSelect=e.data)})),this.centerDialogVisible=!0},setTings:function(){var t=this;Object(i["b"])().then((function(e){200==e.code&&(t.settiingsdata=e.data)}))},beforeClose:function(){this.useHourTotal=0},handleCannel:function(){this.useHourTotal=0,this.projectList=[],this.centerDialogVisible=!1},getmyhourdetail:function(t){var e=this;Object(u["k"])(t).then((function(t){200==t.code&&(e.submitTips="可以提交",t.data==[]?e.hourId=0:e.hourId=t.data[0].hourId,e.projectList=t.data,console.log(e.projectList),e.projectList.forEach((function(t){e.useHourTotal+=t.useHour,t.hasOwnProperty("workTypeHourList")?null==t.workTypeHourList?t.useHour=0:t.workTypeId=t.workTypeHourList[0].workTypeId:(console.log("对worktypeid进行重新赋值"),t.useHour=0)}))),t.code}))},lookinput:function(t){var e=0;this.projectList.forEach((function(t){return e+=t.useHour+0})),""===t?(console.log(t),this.sunmitflag=!0,this.submitTips="工时不能为空"):0===t&&e<=this.settiingsdata.workTime?(this.submitTips="可以提交!",this.sunmitflag=!1):(console.log("到了",e),this.settiingsdata.overtimeAllow&&e<=24?(this.sunmitflag=!1,this.submitTips="可以提交!（加班）"):e>24?(this.sunmitflag=!0,this.submitTips="工时最大范围为0-24小时!"):e>this.settiingsdata.workTime?(this.sunmitflag=!0,this.submitTips="工时范围为0-".concat(this.settiingsdata.workTime,"小时!")):e<=this.settiingsdata.workTime&&(this.sunmitflag=!1,this.submitTips="可以提交！"))},handleDetailHour:function(){var t=this,e={hourId:this.hourId,projectHours:[]};this.useHourTotal=0,this.projectList.forEach((function(r){t.useHourTotal+=r.useHour;var o={detailId:r.id,hour:r.useHour,projectId:r.projectId,daily:r.daily,workTypeHourList:[{workTypeId:r.workTypeId,hour:r.useHour}]};e.projectHours.push(o)})),this.settiingsdata.overtimeAllow?Object(u["I"])(e).then((function(e){200==e.code?(t.$message.success(e.msg),t.centerDialogVisible=!1):t.$message.danger(e.msg)})):this.useHourTotal>this.settiingsdata.workTime?alert("总计不可超过".concat(this.settiingsdata.workTime,"小时")):Object(u["I"])(e).then((function(e){200==e.code?(t.$message.success(e.msg),t.useHourTotal=0,t.centerDialogVisible=!1):t.$message.danger(e.msg)}))}}},a=s,c=(r("c9ed"),r("2877")),l=Object(c["a"])(a,o,n,!1,null,"2145f74f",null);e["default"]=l.exports}}]);